利用Data URL(data:image/jpg;base64,)将小图片生成数据流形式
先看一段代码：
<img src="data:image/jpg;base64,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" />
那这些代码是如何生成的咧？
先看下这些代码“data:image/jpg;base64,iVBORw0KGgoAAAANSUhE……” 就是一张图片的Data URL，就是利用base64编码把图片数据翻译成标准ASCII字符。
等同于：
<img src="http://www.oschina.net/img/logo_s2.png"/>
显示结果：
Data URL是在本地直接绘制图片，不是从服务器加载，所以节省了HTTP连接，起到加速网页的作用。
语法：
data:image/jpg;    声明数据协议及类型名称
base64,               编码形式为base64
/9j/4AAQSkZ……    base64编码结果
最后附上Data URL的生成方法（PHP）：
<?php $img_file = file_get_contents("http://www.oschina.net/img/logo_s2.png");
echo base64_encode($img_file);

注意：本方法适合于小图片，大图片就不要考虑了，另外IE8以下浏览器不支持这种方法。用这种方法会加重客户端的CPU和内存负担，总之有利有弊。
------------------------------------------
DATA URI和BASE64图片 (2013-07-10 07:53:45)
1、DATA URI
减少HTTP请求的数量，把资源直接镶嵌在页面中。一般的格式：
data:,【文本数据】
data:text/plain,【文本数据】
data:text/css,【CSS代码】
data:text/css;base64,【base64编码的CSS代码】
data:text/javascript,【Javascript代码】
data:text/javascript;base64,【base64编码的Javascript代码】
data:image/gif;base64,【base64编码的gif图片数据】
data:image/png;base64,【base64编码的png图片数据】
data:image/jpeg;base64,【base64编码的jpeg图片数据】
data:image/x-icon;base64,【base64编码的icon图片数据】

2、最常用的就是BASE64图片
2.1、用于img标签
img src="data:image/gif;base64,【gif图片base64编码数据】"
img src="data:image/png;base64,【png图片base64编码数据】"
img src="data:image/jpg;base64,【jpg图片base64编码数据】"

2.2、背景图片background-image
background-image:url(data:image/gif;base64,【gif图片base64编码数据】)
background-image:url(data:image/png;base64,【png图片base64编码数据】)
background-image:url(data:image/jpg;base64,【jpg图片base64编码数据】)

3、PHP操作base64
base64_encode($str);//对$str进行base64编码
base64_decode($str);//base64编码的$str还原

------------------------------------------


<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAABLCAIAAADcRKPoAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACOUlEQVR4nO2bwW3DMAxFmSJ7ZZueMk5P2aY75JJtenChCqKl2CIbfwTvoQhS1xbpPFF2jPL0eDwMBDjf7/ejcwAzsxM1IcLH0QnAL5hQARMqYEIFTKiACRUwoQImVMCECphQARMqJJv4/PreuFv5mRt8y4G7Bo+MlhLoHDzeJ9FsuV0vvY1ZoX2IufHrAZvBe0GXLcv+wZOK1sTtell+SnLltWyvf51Otz7V5X0zWnD8Moh/P5hGJata3hzRmmgSWvBzpMlyev4WB7056/efC7Q9mXr8SGXkrE4+fPmw6kIxl/2uKKsRewn4GtobdJBMrw4iUaIm/Bq9upLWh/gqfnoCvSJoPu5m+4SAZRD/OkjMkkznrE7Wv7LZMN3IOfhj4x9H8de89vapkwnmkGZiPHe2zK+9sTbOx9ylqSZ39XtFTQzWijk39ZI4qLOUm8sxiVejV9RE74IRjLX6Efj3cRl+kq2W48H3TiWJud32uvF3YvZMSXplJF6la/K/YzcMvlXEI/au2HOztblDGz9cWS30iBv+30kFnsWqgAkVMKECJlTAhAqYUAETKmBCBUyogAkVMKECJlTAhAp0AavAU3EVWJ1UwIQKmFABEypgQgVMqIAJFTChAiZUwIQKmFCBLuCZ6P8RiC7g9QHpAu5CF/Am6AK2wztZ6AKu/0QXcDssXcB/0AW8F7qA56ELmC7gIXQB0wVMF7CZ0QVMF/D7wbNYFTChAiZUwIQKmFABEypgQgVMqIAJFX4AQZfPK6E8RGoAAAAASUVORK5CYII=" alt="img" width="170" height="170">
	<img src="data:image/jpg;base64,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" alt="img" width="170" height="170">
</body>
</html>